<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
      <link rel="stylesheet" href="style.css">
    <title>Memo Cards</title>
  </head>
  <body>
<h1> Chino Test, 他们不平等 </h1>
<h3 id="counter" class="counter"> Puntaje : </h3>

<p id="mensajes">Elije una carta</p>
    <div id="container"class="container">

    <div>0</div>
    <div>1</div>
    <div>2</div>
    <div>3</div>
    <div>4</div>
    <div>5</div>
    <div>6</div>
    <div>7</div>
    <div>8</div>
    <div>9</div>
    <div>10</div>
    <div>11</div>


</div>

<script type="text/javascript">

// cantidad de cartas seleccionadas
var cartaElegida = 0;


// cuando dos cartas son iguales se suma 1
var puntaje = 0;


// comparamos las 2 cartas seleccionadas
var cartaUno;
var cartaDos;


// indica la clase que se le va a asignar a la tarjeta segun la posicion del array
// el contenido del mazo son strings (texto) que indican las clases que van a tomar las tarjetas
var mazo = ["card1","card1","card2","card2","card3","card3","card4","card4","card5","card5","card6","card6"]
console.log(mazo);

// mezcla las clases o strings cambiandolas de posciciones
mazo.sort(function() {
  return 0.5 - Math.random()
})

console.log(mazo);


// guardar en variables elementos de html

// traer container para darle funciones y poder empezar a jugar
var traercontenedor = document.querySelector("#container");

// trae al contador para sumarle puntos
var traerpuntaje = document.querySelector("#counter");

// trae mensajes para comunicarle cosas en distintas etapas del juego, como instrucciones de cosas que hay q hacer o pasos para seguir
var traermensaje = document.querySelector("#mensajes");

// le esta aplicando al contenedor la habilidad de registrar cuando se hace un click sobre el y que cuando pase eso se ejecute la funcion hacer click
traercontenedor.addEventListener("click", hacerClick);

console.log(container);
console.log(counter);
console.log(mensajes);
num=0
function hacerClick(e) {
  var seleccionada = e.target;
  console.log(seleccionada);

 // guardamos en una variable la tarjeta que ha sido seleccionada y la llevamos para mostrarla en consola

  if (seleccionada.getAttribute("id") == "container") {
    traermensaje.innerHTML = "Has click en una carta"
    return;

    // si el jugador apreta el contenedor de atras, aparece un mensaje ordenandole que elija una carta, no el fondo.

  }

  if (cartaElegida == 0) {
            if (seleccionada.classList.length != 0 ) {
              traermensaje.innerHTML = "Elegi una carta que no este dada vuelta";

            // te pregunta si la clase seleccionada es diferente a cero te dice que elijas una carta q no este ya dada vuelta
            }else {
            traermensaje.innerHTML = "Selecciona otra carta";
            seleccionada.classList.add(mazo[seleccionada.innerHTML]);
            cartaUno = seleccionada;
            cartaElegida = 1;
          }
          // trae una cartas del mazo y la coloca en el div de elegida (linea 98)
          // guardamos cartaUno para luego compararla con cartaDos

  } else if (cartaElegida == 1) {
      if (seleccionada.classList.length != 0 ) {
      traermensaje.innerHTML = "Elige otra carta, tratá de que sea igual a la primera";

    } else {
      seleccionada.classList.add(mazo[seleccionada.innerHTML]);
      cartaDos = seleccionada;
      cartaElegida = 2;

      if (mazo[cartaUno.innerHTML]==mazo[cartaDos.innerHTML]) {
        traermensaje.innerHTML = "Bien, las dos cartas son iguales!!!";
        // chequearGanador();
      } else {
        traermensaje.innerHTML = "No no no no, no son iguales";
      }

      console.log(cartaElegida);
    }
    // trae una cartas del mazo y la coloca en el div de elegida (linea 110)
    // guardamos cartaDos para luego compararla con cartaUno


  // seleccionada.classList.add(mazo[num]);
  // num++
} else {
  traermensaje.innerHTML = "Elige una carta nueva"
  if (mazo[cartaUno.innerHTML] == mazo[cartaDos.innerHTML]) {  //si las odws cartas elegidas son iguales se suma 1 punto
      puntaje = puntaje + 1;
      traerpuntaje.innerHTML = puntaje;
      chequeaGanador()
    } else {
      cartaUno.classList.remove(mazo[cartaUno.innerHTML]);
      cartaDos.classList.remove(mazo[cartaDos.innerHTML]);
    }

    cartaElegida = 0;
}

function chequeaGanador() {
  if ( puntaje == 6) {
    traermensaje.innerHTML = "Ganaste!!"
  }
}
}
</script>
  </body>
</html>
